{"version":3,"sources":["components/Stock/Stock.jsx","components/Detail/Detail.jsx"],"names":["Stock","stock","DetailStyled","styled","div","connect","state","props","useParams","id","history","useHistory","useState","showAlert","setShowAlert","useEffect","timer","setTimeout","clearTimeout","product","shoes","find","prod","Number","className","src","alt","title","content","price","hasStock","onClick","setHasStock","type","dispatch","data","name","quan","push"],"mappings":"iMAMeA,EAJD,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACb,OAAO,kDAAWA,EAAM,O,QCGxBC,EAAeC,IAAOC,IAAV,w4BA+IDC,uBANf,SAA4BC,GACxB,MAAO,CACHA,MAAOA,KAIAD,EAxFf,SAAgBE,GACZ,MAAiBC,cAAXC,UAAN,MAAW,EAAX,EACMC,EAAUC,cAEhB,EAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAEAC,qBAAU,WACN,IAAIC,EAAQC,YAAW,WACnBH,GAAa,KACd,KAEH,OAAO,WACHI,aAAaF,MAElB,CAACH,IAEJ,IAAIM,EAAUZ,EAAMa,MAAMC,MAAK,SAAUC,GACrC,OAAOA,EAAKb,KAAOc,OAAOd,MAG9B,OACI,cAACP,EAAD,UACI,sBAAKsB,UAAU,YAAf,UACKX,GACG,qBAAKW,UAAU,QAAf,0FAEJ,qBAAKA,UAAU,WAAf,SACI,qBACIC,IACI,+CACAN,EAAQV,GACR,OAEJiB,IAAI,qCAGZ,sBAAKF,UAAU,YAAf,UACI,6BAAKL,EAAQQ,QACb,4BAAIR,EAAQS,UACZ,8BAAIT,EAAQU,MAAZ,YAEA,cAAC,EAAD,CACI5B,MAAOM,EAAMuB,SACbC,QAAS,WACLxB,EAAMyB,YAAY,YAAIzB,EAAMuB,UAAU,GAAK,MAInD,sBAAKN,UAAU,cAAf,UACI,wBACIS,KAAK,SACLT,UAAU,gBACVO,QAAS,WACLxB,EAAM2B,SAAS,CACXD,KAAM,UACNE,KAAM,CACF1B,GAAI,EACJ2B,KAAMjB,EAAQQ,MACdU,KAAM,KAGd3B,EAAQ4B,KAAK,UAZrB,sCAiBA,wBACIL,KAAK,SACLT,UAAU,eACVO,QAAS,WACLrB,EAAQ4B,KAAK,MAJrB","file":"static/js/3.9093dcdd.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Stock = ({ stock }) => {\n    return <div>재고 : {stock[0]}</div>;\n};\n\nexport default Stock;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport Stock from \"../Stock/Stock\";\nimport { connect } from \"react-redux\";\n\nlet DetailStyled = styled.div`\n    * {\n        margin: 0;\n        padding: 0;\n    }\n\n    .container {\n        margin-bottom: 30px;\n    }\n\n    .alert {\n        padding: 20px;\n        background-color: #ffd968;\n        color: #333;\n        font-weight: bold;\n    }\n\n    .img_wrap {\n        img {\n            width: 100%;\n            max-width: 800px;\n        }\n    }\n\n    h4 {\n        font-size: 25px;\n    }\n\n    p {\n        padding-top: 15px;\n    }\n\n    .button_wrap {\n        margin-top: 20px;\n\n        .btn {\n            padding: 10px;\n            margin-left: 10px;\n            border-radius: 5px;\n\n            &:first-child {\n                margin-left: 0;\n            }\n\n            &.btn_order {\n                background-color: pink;\n            }\n\n            &.btn_back {\n                background-color: skyblue;\n            }\n        }\n    }\n`;\n\nfunction Detail(props) {\n    let { id = 1 } = useParams();\n    const history = useHistory();\n\n    const [showAlert, setShowAlert] = useState(true);\n\n    useEffect(() => {\n        let timer = setTimeout(() => {\n            setShowAlert(false);\n        }, 2000);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [showAlert]);\n\n    let product = props.shoes.find(function (prod) {\n        return prod.id === Number(id);\n    });\n\n    return (\n        <DetailStyled>\n            <div className=\"container\">\n                {showAlert && (\n                    <div className=\"alert\">재고가 얼마 남지 않았습니다.</div>\n                )}\n                <div className=\"img_wrap\">\n                    <img\n                        src={\n                            \"https://juhyunham.github.io/image/shop/shoes\" +\n                            product.id +\n                            \".jpg\"\n                        }\n                        alt=\"신발이미지\"\n                    />\n                </div>\n                <div className=\"info_wrap\">\n                    <h4>{product.title}</h4>\n                    <p>{product.content}</p>\n                    <p>{product.price}원</p>\n\n                    <Stock\n                        stock={props.hasStock}\n                        onClick={() => {\n                            props.setHasStock([...props.hasStock][0] - 1);\n                        }}\n                    />\n\n                    <div className=\"button_wrap\">\n                        <button\n                            type=\"button\"\n                            className=\"btn btn_order\"\n                            onClick={() => {\n                                props.dispatch({\n                                    type: \"itemAdd\",\n                                    data: {\n                                        id: 2,\n                                        name: product.title,\n                                        quan: 1,\n                                    },\n                                });\n                                history.push(\"/cart\");\n                            }}\n                        >\n                            주문하기\n                        </button>\n                        <button\n                            type=\"button\"\n                            className=\"btn btn_back\"\n                            onClick={() => {\n                                history.push(\"/\");\n                            }}\n                        >\n                            뒤로가기\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </DetailStyled>\n    );\n}\n\nfunction functionStateProps(state) {\n    return {\n        state: state,\n    };\n}\n\nexport default connect(functionStateProps)(Detail);\n"],"sourceRoot":""}